<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mensajes de un Planeta ExtraÃ±o</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Pantalla de IntroducciÃ³n -->
    <div id="pantalla-inicio" class="pantalla visible">
        <h1>Bienvenida a un Planeta ExtraÃ±o</h1>
        <p>Al aterrizar en este planeta, te encuentras con cristales luminosos que parecen proyectar mensajes hologrÃ¡ficos en el aire. Sientes que cada mensaje guarda un secreto importante, esperando a ser descifrado.</p>
        <div class="botones-centro">
            <button onclick="avanzarPantalla()">Comenzar la Aventura</button>
        </div>
    </div>

    <!-- Primer Mensaje HologrÃ¡fico en el Desierto Luminoso -->
    <div id="pantalla-frase1" class="pantalla">
        <h2>Desierto Luminoso</h2>
        <p>
            Parece que estÃ¡s en una especie de desiertoâ€¦<br><br>
            De repente, escuchas un sonido extraÃ±o, aunque sorprendentemente agradable.<br><br>
            â€œDios mÃ­o, Â¡quÃ© cosa tan mona!â€ piensas, mientras aparece frente a ti una pequeÃ±a criatura muy parecida a los gatos de tu planeta. Al principio, das un paso atrÃ¡s, cautelosa... pero parece inofensiva.<br><br>
            Observas que la criatura se comunica de una forma peculiar, emitiendo sonidos y gestos incomprensibles. Entonces, te das cuenta de queâ€¦ Â¡te estÃ¡ retando! Parece que quiere jugar contigo, a un juego que te resulta vagamente familiarâ€¦<br><br>
            No parece dispuesta a dejarte avanzar hasta que aceptes su propuestaâ€¦ Â¡y consigas ganarle!
        </p>
        <div class="botones-reto">
            <button onclick="aceptarReto()">Acepto el reto</button>
            <button onclick="mostrarPopupCagueta()" class="gallina-boton">
                <span class="gallina-texto">Soy una gallina</span>
                <img src="assets/images/chicken.gif" alt="Gallina" class="gallina-icono">
            </button>
        </div>
    </div>

    <!-- Pantalla del Tic Tac Toe (Tres en Raya) -->
    <div id="pantalla-tic-tac-toe" class="pantalla">
        <h2>DesafÃ­o del Tres en Raya</h2>
        <p>Gana el juego para que la criatura te deje avanzar en tu aventura.</p>
        <div id="tres-en-raya">
            <div class="celda" onclick="jugadaHumana(0)"></div>
            <div class="celda" onclick="jugadaHumana(1)"></div>
            <div class="celda" onclick="jugadaHumana(2)"></div>
            <div class="celda" onclick="jugadaHumana(3)"></div>
            <div class="celda" onclick="jugadaHumana(4)"></div>
            <div class="celda" onclick="jugadaHumana(5)"></div>
            <div class="celda" onclick="jugadaHumana(6)"></div>
            <div class="celda" onclick="jugadaHumana(7)"></div>
            <div class="celda" onclick="jugadaHumana(8)"></div>
        </div>
        <div class="botones-centro">
            <button id="explorar-btn" onclick="avanzarPantalla()" disabled title="El alien te impide continuar hasta que le ganes.">Explorar mÃ¡s allÃ¡</button>
        </div>
    </div>

    <!-- Pantalla despuÃ©s de ganar al alien - Estructura misteriosa -->
    <div id="pantalla-estructura" class="pantalla">
        <h2>Una Estructura Misteriosa</h2>
        <p>
            DespuÃ©s de ganarle al pequeÃ±o alien, das un suspiro de alivio y decides seguir adelante sin mirar atrÃ¡s. 
            Al avanzar, te encuentras un lugar extraÃ±o y fascinante. Delante de ti se alza una estructura gigantesca, imponente y antigua. 
            Parece tallada en la roca misma, con lÃ­neas suaves pero majestuosas, y un aura de misterio que se siente casi palpable.
            Las paredes estÃ¡n cubiertas de intrincados grabados y arcos que parecen conducir hacia un interior lleno de secretos. 
            Sus columnas se elevan hacia el cielo, creando una sensaciÃ³n de eternidad. La entrada es amplia, con una puerta abierta que te invita a explorar mÃ¡s allÃ¡.
        </p>
        <div class="botones-reto">
            <button onclick="entrarPantallaTrampas()">Entrar a la estructura</button>
            <button onclick="retrocederPantalla()">Huir como una cobarde</button>
        </div>
    </div>

    <!-- Pantalla del juego de esquivar rocas -->
    <div id="pantalla-trampas" class="pantalla">
        <h2>Esquiva las Trampas</h2>
        <p>Â¡Cuidado! EstÃ¡ lleno de trampas y piedras cayendo. Usa las flechas para moverte y esquivar las rocas.</p>
        <canvas id="juegoCanvas" width="600" height="400"></canvas>
        <div class="botones-centro">
            <button id="continuar-btn" onclick="avanzarPantalla()" disabled>Continuar</button>
        </div>
    </div>

    <!-- Popup de derrota -->
    <div id="popup-derrota" class="popup">
        <div class="popup-contenido">
            <span class="cerrar-popup" onclick="cerrarPopupDerrota()">&times;</span>
            <p>Has muerto â˜ ï¸â˜ ï¸ </p>
            <p>Pero por suerte, es un juego ğŸ˜„</p>
        </div>
    </div>

        <!-- Popup de felicitaciÃ³n al esquivar las rocas -->
    <div id="popup-enhorabuena" class="popup">
        <div class="popup-contenido">
            <span class="cerrar-popup" onclick="cerrarPopupEnhorabuena()">&times;</span>
            <p>Â¡Enhorabuena, has conseguido sortear las trampas!</p>
            <img src="assets/images/girar.PNG" alt="Felicidades" class="imagen-giratoria">
        </div>
    </div>


    <!-- Pantalla Final - RevelaciÃ³n del Regalo -->
    <div id="pantalla-final" class="pantalla">
        <h2>El Ãšltimo Susurro</h2>
        <p>Has llegado al final de tu viaje y descubierto los mensajes ocultos. Abre el regalo que tienes frente a ti, y este planeta te revelarÃ¡ su secreto final.</p>
        <button onclick="mostrarUltimaFrase()">Ya he abierto el regalo</button>
        <button onclick="retrocederPantalla()">Volver atrÃ¡s</button>
    </div>

    <!-- Pantalla de RevelaciÃ³n Final -->
    <div id="pantalla-final-revelacion" class="pantalla">
        <h2>Este es tu regalo</h2>
        <p>Ahora que has descubierto el regalo, el Ãºltimo susurro del planeta te habla directamente: â€œÂ¿Y quÃ© instrumento cojo? Â¿El piano? A mÃ­ me gusta.â€</p>
        <p>Sari, este piano es solo para tiâ€¦ para que descubras las melodÃ­as que has llevado dentro todo este tiempo.</p>
    </div>

    <!-- Popup para el botÃ³n de la gallina -->
    <div id="popup-cagueta" class="popup">
        <div class="popup-contenido">
            <span class="cerrar-popup" onclick="cerrarPopup()">&times;</span>
            <p>Â¿En serio? Â¿Eres una cagueta? Sabes que no vas a poder avanzar hasta que no ganes...</p>
        </div>
    </div>

    <!-- Popup de derrota en Tic Tac Toe -->
    <div id="popup-perdida" class="popup">
        <div class="popup-contenido">
            <span class="cerrar-popup" onclick="cerrarPopup()">&times;</span>
            <p>JAJAJA, Â¡Â¡HAS PERDIDO!! HASTA QUE NO GANES NO PODRÃS CONTINUAR ğŸ˜ˆ</p>
        </div>
    </div>

    <!-- Popup de victoria en Tic Tac Toe -->
    <div id="popup-victoria" class="popup">
        <div class="popup-contenido">
            <span class="cerrar-popup" onclick="cerrarPopup()">&times;</span>
            <p>Mierda, me has ganado... Nos veremos en el infierno... ğŸ–•ğŸ»ğŸ–•ğŸ»</p>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
