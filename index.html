<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mensajes de un Planeta Extraño</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Pantalla de Introducción -->
    <div id="pantalla-inicio" class="pantalla visible">
        <h1>Bienvenida a un Planeta Extraño</h1>
        <p>Al aterrizar en este planeta, te encuentras con cristales luminosos que parecen proyectar mensajes holográficos en el aire. Sientes que cada mensaje guarda un secreto importante, esperando a ser descifrado.</p>
        <div class="botones-centro">
            <button onclick="avanzarPantalla()">Comenzar la Aventura</button>
        </div>
    </div>

    <!-- Primer Mensaje Holográfico en el Desierto Luminoso -->
    <div id="pantalla-frase1" class="pantalla">
        <h2>Desierto Luminoso</h2>
        <p>
            Parece que estás en una especie de desierto…<br><br>
            De repente, escuchas un sonido extraño, aunque sorprendentemente agradable.<br><br>
            “Dios mío, ¡qué cosa tan mona!” piensas, mientras aparece frente a ti una pequeña criatura muy parecida a los gatos de tu planeta. Al principio, das un paso atrás, cautelosa... pero parece inofensiva.<br><br>
            Observas que la criatura se comunica de una forma peculiar, emitiendo sonidos y gestos incomprensibles. Entonces, te das cuenta de que… ¡te está retando! Parece que quiere jugar contigo, a un juego que te resulta vagamente familiar…<br><br>
            No parece dispuesta a dejarte avanzar hasta que aceptes su propuesta… ¡y consigas ganarle!
        </p>
        <div class="botones-reto">
            <button onclick="aceptarReto()">Acepto el reto</button>
            <button onclick="mostrarPopupCagueta()" class="gallina-boton">
                <span class="gallina-texto">Soy una gallina</span>
                <img src="assets/images/chicken.gif" alt="Gallina" class="gallina-icono">
            </button>
        </div>
    </div>

    <!-- Pantalla del Tic Tac Toe (Tres en Raya) -->
    <div id="pantalla-tic-tac-toe" class="pantalla">
        <h2>Desafío del Tres en Raya</h2>
        <p>Gana el juego para que la criatura te deje avanzar en tu aventura.</p>
        <div id="tres-en-raya">
            <div class="celda" onclick="jugadaHumana(0)"></div>
            <div class="celda" onclick="jugadaHumana(1)"></div>
            <div class="celda" onclick="jugadaHumana(2)"></div>
            <div class="celda" onclick="jugadaHumana(3)"></div>
            <div class="celda" onclick="jugadaHumana(4)"></div>
            <div class="celda" onclick="jugadaHumana(5)"></div>
            <div class="celda" onclick="jugadaHumana(6)"></div>
            <div class="celda" onclick="jugadaHumana(7)"></div>
            <div class="celda" onclick="jugadaHumana(8)"></div>
        </div>
        <div class="botones-centro">
            <button id="explorar-btn" onclick="avanzarPantalla()" disabled title="El alien te impide continuar hasta que le ganes.">Explorar más allá</button>
        </div>
    </div>

    <!-- Pantalla después de ganar al alien - Estructura misteriosa -->
    <div id="pantalla-estructura" class="pantalla">
        <h2>Una Estructura Misteriosa</h2>
        <p>
            Después de ganarle al pequeño alien, das un suspiro de alivio y decides seguir adelante sin mirar atrás. 
            Al avanzar, te encuentras un lugar extraño y fascinante. Delante de ti se alza una estructura gigantesca, imponente y antigua. 
            Parece tallada en la roca misma, con líneas suaves pero majestuosas, y un aura de misterio que se siente casi palpable.
            Las paredes están cubiertas de intrincados grabados y arcos que parecen conducir hacia un interior lleno de secretos. 
            Sus columnas se elevan hacia el cielo, creando una sensación de eternidad. La entrada es amplia, con una puerta abierta que te invita a explorar más allá.
        </p>
        <div class="botones-reto">
            <button onclick="entrarPantallaTrampas()">Entrar a la estructura</button>
            <button onclick="retrocederPantalla()">Huir como una cobarde</button>
        </div>
    </div>

    <!-- Pantalla del juego de esquivar rocas -->
    <div id="pantalla-trampas" class="pantalla">
        <h2>Esquiva las Trampas</h2>
        <p>¡Cuidado! Está lleno de trampas y piedras cayendo. Usa las flechas para moverte y esquivar las rocas.</p>
        <canvas id="juegoCanvas" width="600" height="400"></canvas>
        <div class="botones-centro">
            <button id="continuar-btn" onclick="avanzarPantalla()" disabled>Continuar</button>
        </div>
    </div>

    <!-- Popup de derrota -->
    <div id="popup-derrota" class="popup">
        <div class="popup-contenido">
            <span class="cerrar-popup" onclick="cerrarPopupDerrota()">&times;</span>
            <p>Has muerto ☠️☠️ </p>
            <p>Pero por suerte, es un juego 😄</p>
        </div>
    </div>

        <!-- Popup de felicitación al esquivar las rocas -->
    <div id="popup-enhorabuena" class="popup">
        <div class="popup-contenido">
            <span class="cerrar-popup" onclick="cerrarPopupEnhorabuena()">&times;</span>
            <p>¡Enhorabuena, has conseguido sortear las trampas!</p>
            <img src="assets/images/girar.PNG" alt="Felicidades" class="imagen-giratoria">
        </div>
    </div>


    <!-- Pantalla Final - Revelación del Regalo -->
    <div id="pantalla-final" class="pantalla">
        <h2>El Último Susurro</h2>
        <p>Has llegado al final de tu viaje y descubierto los mensajes ocultos. Abre el regalo que tienes frente a ti, y este planeta te revelará su secreto final.</p>
        <button onclick="mostrarUltimaFrase()">Ya he abierto el regalo</button>
        <button onclick="retrocederPantalla()">Volver atrás</button>
    </div>

    <!-- Pantalla de Revelación Final -->
    <div id="pantalla-final-revelacion" class="pantalla">
        <h2>Este es tu regalo</h2>
        <p>Ahora que has descubierto el regalo, el último susurro del planeta te habla directamente: “¿Y qué instrumento cojo? ¿El piano? A mí me gusta.”</p>
        <p>Sari, este piano es solo para ti… para que descubras las melodías que has llevado dentro todo este tiempo.</p>
    </div>

    <!-- Popup para el botón de la gallina -->
    <div id="popup-cagueta" class="popup">
        <div class="popup-contenido">
            <span class="cerrar-popup" onclick="cerrarPopup()">&times;</span>
            <p>¿En serio? ¿Eres una cagueta? Sabes que no vas a poder avanzar hasta que no ganes...</p>
        </div>
    </div>

    <!-- Popup de derrota en Tic Tac Toe -->
    <div id="popup-perdida" class="popup">
        <div class="popup-contenido">
            <span class="cerrar-popup" onclick="cerrarPopup()">&times;</span>
            <p>JAJAJA, ¡¡HAS PERDIDO!! HASTA QUE NO GANES NO PODRÁS CONTINUAR 😈</p>
        </div>
    </div>

    <!-- Popup de victoria en Tic Tac Toe -->
    <div id="popup-victoria" class="popup">
        <div class="popup-contenido">
            <span class="cerrar-popup" onclick="cerrarPopup()">&times;</span>
            <p>Mierda, me has ganado... Nos veremos en el infierno... 🖕🏻🖕🏻</p>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
